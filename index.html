<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lunar Calendar Tracker</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0f23, #1a1a3e, #2d2d5f);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .date-display {
            font-size: 1.4rem;
            margin-bottom: 20px;
            color: #ccc;
        }
        
        .moon-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 40px;
            margin: 40px 0;
            flex-wrap: wrap;
        }
        
        .moon-phase {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: #333;
            position: relative;
            box-shadow: 0 0 40px rgba(255,255,255,0.3);
            overflow: hidden;
        }
        
        .moon-light {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: linear-gradient(90deg, #f5f5dc 0%, #e6e6fa 100%);
            transform-origin: center;
        }
        
        .phase-info {
            max-width: 300px;
        }
        
        .phase-name {
            font-size: 1.8rem;
            margin-bottom: 10px;
            color: #f0f0f0;
        }
        
        .illumination {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: #ccc;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        button {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.3);
            color: #fff;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        button:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }
        
        .calendar-mini {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
            backdrop-filter: blur(10px);
        }
        
        .month-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            gap: 15px;
        }
        
        .month-nav button {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.3);
            color: #fff;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.2rem;
            min-width: 40px;
        }
        
        .month-nav button:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.1);
        }
        
        .month-year {
            font-size: 1.3rem;
            font-weight: bold;
            flex: 1;
            text-align: center;
        }
        
        .weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-bottom: 10px;
        }
        
        .weekdays div {
            padding: 8px;
            font-weight: bold;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
        }
        
        .days-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 3px;
        }
        
        .day {
            aspect-ratio: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            background: rgba(255,255,255,0.05);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
            min-height: 40px;
        }
        
        .day:hover {
            background: rgba(255,255,255,0.15);
        }
        
        .day.today {
            background: rgba(255,215,0,0.3);
            border: 2px solid #ffd700;
        }
        
        .day.selected {
            background: rgba(100,150,255,0.3);
            border: 2px solid #6496ff;
        }
        
        .day.vietnamese-holiday {
            background: rgba(255,100,100,0.4);
            border: 2px solid #ff6464;
            position: relative;
        }
        
        .day.vietnamese-holiday::after {
            content: 'üèÆ';
            position: absolute;
            top: -2px;
            right: -2px;
            font-size: 12px;
        }
        
        .holiday-info {
            background: rgba(255,100,100,0.2);
            border: 1px solid rgba(255,100,100,0.5);
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
            text-align: left;
        }
        
        .holiday-info h3 {
            color: #ff9999;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }
        
        .lunar-date {
            font-size: 0.9rem;
            color: #ddd;
            margin-top: 5px;
            font-style: italic;
        }
        
        @media (max-width: 600px) {
            .moon-container { flex-direction: column; gap: 20px; }
            .moon-phase { width: 150px; height: 150px; }
            h1 { font-size: 2rem; }
            .controls { flex-direction: column; align-items: center; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üåô Lunar Calendar Tracker</h1>
        
        <div class="date-display" id="dateDisplay"></div>
        <div class="lunar-date" id="lunarDate"></div>
        
        <div class="holiday-info" id="holidayInfo" style="display: none;">
            <h3 id="holidayName"></h3>
            <p id="holidayDescription"></p>
        </div>
        
        <div class="moon-container">
            <div class="moon-phase" id="moonPhase">
                <div class="moon-light" id="moonLight"></div>
            </div>
            
            <div class="phase-info">
                <div class="phase-name" id="phaseName"></div>
                <div class="illumination" id="illumination"></div>
                <div id="phaseDescription"></div>
            </div>
        </div>
        
        <div class="controls">
            <button onclick="changeDate(-1)">‚Üê Previous Day</button>
            <button onclick="goToToday()">Today</button>
            <button onclick="changeDate(1)">Next Day ‚Üí</button>
        </div>
        
        <div class="calendar-mini">
            <div class="month-nav">
                <button id="prevMonth" onclick="changeMonth(-1)">‚Üê</button>
                <div class="month-year" id="monthYear"></div>
                <button id="nextMonth" onclick="changeMonth(1)">‚Üí</button>
            </div>
            <div class="weekdays">
                <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div>
                <div>Thu</div><div>Fri</div><div>Sat</div>
            </div>
            <div class="days-grid" id="daysGrid"></div>
        </div>
    </div>

    <script>
        let currentDate = new Date();
        
        // Vietnamese lunar calendar holidays (month/day)
        const vietnameseHolidays = {
            '1/1': { name: 'T·∫øt Nguy√™n ƒê√°n (Vietnamese New Year)', description: 'The most important holiday in Vietnamese culture, celebrating the lunar new year' },
            '1/2': { name: 'T·∫øt Nguy√™n ƒê√°n (Day 2)', description: 'Second day of Vietnamese New Year celebrations' },
            '1/3': { name: 'T·∫øt Nguy√™n ƒê√°n (Day 3)', description: 'Third day of Vietnamese New Year celebrations' },
            '1/15': { name: 'T·∫øt Nguy√™n Ti√™u (Lantern Festival)', description: 'Festival of lights with colorful lanterns and lion dances' },
            '3/3': { name: 'T·∫øt H√†n Th·ª±c (Cold Food Festival)', description: 'Traditional festival honoring ancestors, no cooking allowed' },
            '4/15': { name: 'L·ªÖ Ph·∫≠t ƒê·∫£n (Buddha\'s Birthday)', description: 'Celebrating the birth of Buddha Shakyamuni' },
            '5/5': { name: 'T·∫øt ƒêoan Ng·ªç (Dragon Boat Festival)', description: 'Festival for health and protection against evil spirits' },
            '7/7': { name: 'Th·∫•t T·ªãch (Double Seventh Festival)', description: 'Vietnamese Valentine\'s Day celebrating the legend of the weaver girl and cowherd' },
            '7/15': { name: 'L·ªÖ Vu Lan (Ghost Festival)', description: 'Festival honoring deceased ancestors and hungry ghosts' },
            '8/15': { name: 'T·∫øt Trung Thu (Mid-Autumn Festival)', description: 'Harvest festival with mooncakes and lanterns, especially for children' },
            '9/9': { name: 'T·∫øt Tr√πng C·ª≠u (Double Ninth Festival)', description: 'Festival for longevity and health, climbing mountains tradition' },
            '10/10': { name: 'T·∫øt H·∫° Nguy√™n (Water Lantern Festival)', description: 'Festival of forgiveness and letting go of grievances' },
            '12/8': { name: 'L·ªÖ Ph·∫≠t Th√†nh ƒê·∫°o (Buddha\'s Enlightenment)', description: 'Commemorating Buddha\'s enlightenment under the Bodhi tree' },
            '12/23': { name: 'T·∫øt T√°o Qu√¢n (Kitchen God Festival)', description: 'Sending the Kitchen God to heaven to report on the family' }
        };
        
        // Lunar calendar conversion (simplified - uses approximation)
        function solarToLunar(solarDate) {
            const lunarNewYear2024 = new Date('2024-02-10'); // T·∫øt 2024
            const lunarNewYear2025 = new Date('2025-01-29'); // T·∫øt 2025
            
            let lunarNewYear, lunarYear;
            if (solarDate >= lunarNewYear2025) {
                lunarNewYear = lunarNewYear2025;
                lunarYear = 2025;
            } else if (solarDate >= lunarNewYear2024) {
                lunarNewYear = lunarNewYear2024;
                lunarYear = 2024;
            } else {
                lunarNewYear = new Date('2023-01-22'); // T·∫øt 2023
                lunarYear = 2023;
            }
            
            const daysDiff = Math.floor((solarDate - lunarNewYear) / (1000 * 60 * 60 * 24));
            const lunarMonth = Math.floor(daysDiff / 29.5) + 1;
            const lunarDay = (daysDiff % 29.5) + 1;
            
            return {
                year: lunarYear,
                month: Math.max(1, Math.min(12, Math.floor(lunarMonth))),
                day: Math.max(1, Math.min(30, Math.floor(lunarDay)))
            };
        }
        
        function calculateMoonPhase(date) {
            const knownNewMoon = new Date('2000-01-06T18:14:00Z');
            const lunarCycle = 29.530588853; // days
            
            const daysSinceKnownNew = (date - knownNewMoon) / (1000 * 60 * 60 * 24);
            const currentCycle = daysSinceKnownNew % lunarCycle;
            const phase = currentCycle / lunarCycle;
            
            return phase;
        }
        
        function getPhaseInfo(phase) {
            const illumination = Math.abs(Math.cos(phase * 2 * Math.PI));
            
            let phaseName, description;
            
            if (phase < 0.03 || phase > 0.97) {
                phaseName = "New Moon";
                description = "The moon is not visible in the sky";
            } else if (phase < 0.22) {
                phaseName = "Waxing Crescent";
                description = "The moon is growing larger";
            } else if (phase < 0.28) {
                phaseName = "First Quarter";
                description = "Half of the moon is illuminated";
            } else if (phase < 0.47) {
                phaseName = "Waxing Gibbous";
                description = "More than half illuminated, still growing";
            } else if (phase < 0.53) {
                phaseName = "Full Moon";
                description = "The moon is fully illuminated";
            } else if (phase < 0.72) {
                phaseName = "Waning Gibbous";
                description = "More than half illuminated, shrinking";
            } else if (phase < 0.78) {
                phaseName = "Last Quarter";
                description = "Half of the moon is illuminated";
            } else {
                phaseName = "Waning Crescent";
                description = "The moon is shrinking";
            }
            
            return {
                name: phaseName,
                description: description,
                illumination: Math.round(illumination * 100)
            };
        }
        
        function updateMoonDisplay() {
            const phase = calculateMoonPhase(currentDate);
            const phaseInfo = getPhaseInfo(phase);
            
            // Update moon visual
            const moonLight = document.getElementById('moonLight');
            const rotation = phase * 360;
            
            if (phase < 0.5) {
                // Waxing phases
                moonLight.style.background = `linear-gradient(${90 + rotation}deg, #f5f5dc 0%, #f5f5dc 50%, #333 50%, #333 100%)`;
            } else {
                // Waning phases
                moonLight.style.background = `linear-gradient(${rotation - 90}deg, #333 0%, #333 50%, #f5f5dc 50%, #f5f5dc 100%)`;
            }
            
            // Update text info
            document.getElementById('phaseName').textContent = phaseInfo.name;
            document.getElementById('illumination').textContent = `${phaseInfo.illumination}% Illuminated`;
            document.getElementById('phaseDescription').textContent = phaseInfo.description;
            document.getElementById('dateDisplay').textContent = currentDate.toLocaleDateString('en-US', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            // Update lunar date
            const lunarDate = solarToLunar(currentDate);
            document.getElementById('lunarDate').textContent = 
                `Lunar: ${lunarDate.month}/${lunarDate.day}/${lunarDate.year}`;
            
            // Check for Vietnamese holidays
            const holidayKey = `${lunarDate.month}/${lunarDate.day}`;
            const holidayInfo = document.getElementById('holidayInfo');
            
            if (vietnameseHolidays[holidayKey]) {
                const holiday = vietnameseHolidays[holidayKey];
                document.getElementById('holidayName').textContent = holiday.name;
                document.getElementById('holidayDescription').textContent = holiday.description;
                holidayInfo.style.display = 'block';
            } else {
                holidayInfo.style.display = 'none';
            }
        }
        
        function changeDate(days) {
            currentDate.setDate(currentDate.getDate() + days);
            updateDisplay();
        }
        
        function goToToday() {
            currentDate = new Date();
            updateDisplay();
        }
        
        function changeMonth(direction) {
            currentDate.setMonth(currentDate.getMonth() + direction);
            updateDisplay();
        }
        
        function updateCalendar() {
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            const today = new Date();
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const startDate = new Date(firstDay);
            startDate.setDate(startDate.getDate() - firstDay.getDay());
            
            document.getElementById('monthYear').textContent = 
                currentDate.toLocaleDateString('en-US', { year: 'numeric', month: 'long' });
            
            const daysGrid = document.getElementById('daysGrid');
            daysGrid.innerHTML = '';
            
            for (let i = 0; i < 42; i++) {
                const date = new Date(startDate);
                date.setDate(startDate.getDate() + i);
                
                const dayElement = document.createElement('div');
                dayElement.className = 'day';
                dayElement.textContent = date.getDate();
                
                if (date.getMonth() !== month) {
                    dayElement.style.opacity = '0.3';
                }
                
                if (date.toDateString() === today.toDateString()) {
                    dayElement.classList.add('today');
                }
                
                if (date.toDateString() === currentDate.toDateString()) {
                    dayElement.classList.add('selected');
                }
                
                // Check for Vietnamese holidays
                const lunarDate = solarToLunar(date);
                const holidayKey = `${lunarDate.month}/${lunarDate.day}`;
                if (vietnameseHolidays[holidayKey]) {
                    dayElement.classList.add('vietnamese-holiday');
                    dayElement.title = vietnameseHolidays[holidayKey].name;
                }
                
                dayElement.onclick = () => {
                    currentDate = new Date(date);
                    updateDisplay();
                };
                
                daysGrid.appendChild(dayElement);
            }
        }
        
        function updateDisplay() {
            updateMoonDisplay();
            updateCalendar();
        }
        
        // Initialize the app
        updateDisplay();
        
        // Update every hour
        setInterval(updateDisplay, 3600000);
    </script>
</body>
</html>